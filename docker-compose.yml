# Agent Zero Docker Compose Configuration
#
# Environment variables are OPTIONAL - the app works without them.
# You can configure everything through the web UI after deployment.
#
# For Coolify deployment, add environment variables in your Coolify project
# settings. The container startup script will automatically write them to
# usr/secrets.env for you.

services:
  agent-zero:
    container_name: agent-zero-v2
    image: agent0ai/agent-zero-base:latest
    build:
      context: .
      dockerfile: DockerfileLocal
    volumes:
      - agent-zero-data:/a0
    ports:
      - "7643:80"
    environment:
      # ============================================================
      # OPTIONAL: Authentication
      # Can also be configured in the web UI under Settings
      # ============================================================
      - AUTH_LOGIN=${AUTH_LOGIN:-}
      - AUTH_PASSWORD=${AUTH_PASSWORD:-}

      # ============================================================
      # OPTIONAL: LLM API Keys
      # Can also be configured in the web UI under Settings > API Keys
      # ============================================================
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY:-}
      - API_KEY_OPENAI=${API_KEY_OPENAI:-}

      # ============================================================
      # OPTIONAL: Telegram Bot Integration
      # Get your token from @BotFather on Telegram
      # Can also be configured in the web UI under Settings > Secrets
      # ============================================================
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN:-}
      - TELEGRAM_BOT_ALLOWED_USERS=${TELEGRAM_BOT_ALLOWED_USERS:-}

      # ============================================================
      # OPTIONAL: Verbose startup logs
      # Set to "true" to see environment variable setup logs
      # ============================================================
      - VERBOSE_SETUP=${VERBOSE_SETUP:-true}

volumes:
  agent-zero-data:
